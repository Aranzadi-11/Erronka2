package erronka;

import java.awt.BorderLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTable;
import javax.swing.border.EmptyBorder;

public class App extends JFrame {

    private static final long serialVersionUID = 1L;
    private JPanel contentPane; // Edukia gordetzeko panela

    public App() {
        // Leihoaren ezarpenak
        setTitle("DATU BASEA"); // Leihoaren izenburua
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); // Itxierako ekintza
        setBounds(100, 100, 850, 500); // Leihoaren tamaina eta kokapena

        // Edukia gordeko duen panela sortu eta konfiguratu
        contentPane = new JPanel();
        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5)); // Mugak definitu
        contentPane.setLayout(null); // Layout pertsonalizatua
        setContentPane(contentPane);

        // Botoiak sortu eta gehitu
        JButton btnLangileak = new JButton("Langileak Erakutsi"); // Langileen datuak erakusteko botoia
        btnLangileak.setBounds(20, 20, 200, 30);
        contentPane.add(btnLangileak);

        JButton btnProduktuak = new JButton("Produktuak Erakutsi"); // Produktuen datuak erakusteko botoia
        btnProduktuak.setBounds(20, 60, 200, 30);
        contentPane.add(btnProduktuak);

        JButton btnItxi = new JButton("Itxi"); // Aplikazioa ixteko botoia
        btnItxi.setBounds(20, 100, 200, 30);
        contentPane.add(btnItxi);

        // Taula bistaratzeko panela sortu
        JPanel taulaPanela = new JPanel();
        taulaPanela.setBounds(250, 20, 500, 350);
        contentPane.add(taulaPanela);
        taulaPanela.setLayout(new BorderLayout());

        // "Langileak Erakutsi" botoiari ekintza gehitu
        btnLangileak.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent e) {
                JTable table = Kontsulta.getTaulenDatuak("langileak"); // Langileen datuak eskuratu
                taulaPanela.removeAll(); // Aurreko edukia kendu
                taulaPanela.add(new JScrollPane(table), BorderLayout.CENTER); // Taula gehitu
                taulaPanela.revalidate(); // Berritu edukia
                taulaPanela.repaint(); // Taula berriz margotu
            }
        });

        // "Stock Erakutsi" botoiari ekintza gehitu
        btnProduktuak.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent e) {
                JTable table = Kontsulta.getTaulenDatuak("stock"); // Produktuen datuak eskuratu
                taulaPanela.removeAll(); // Aurreko edukia kendu
                taulaPanela.add(new JScrollPane(table), BorderLayout.CENTER); // Taula gehitu
                taulaPanela.revalidate(); // Berritu edukia
                taulaPanela.repaint(); // Taula berriz margotu
            }
        });

        // "Itxi" botoiari ekintza gehitu (aplikazioa ixteko)
        btnItxi.addActionListener(e -> System.exit(0));
    }
}
